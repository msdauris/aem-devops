# Question ID: q011

## Category
[Platform Basics/Authoring/Development/Maintenance]

## Question
An AEM publish instance is running slower than expected. Overall page load time is high, and system performance degrades over time.
A DevOps Engineer narrowed down the following long running requests:
![query search](https://github.com/msdauris/aem-devops/blob/main/images/q011.png)  <br /> 
Which step should be taken to resolve this issue?

## Options
A) Create new Lucene Index definitions to include OOTB and custom properties  <br /> 
B) Integrate SOLR Search Index with AEM  <br /> 
C) Modify the search component to use the new Core Components and leverage Index definitions  <br /> 
D) Use /allowedClients in dispatcher.any to cache requests with URL parameter q  <br /> 

## Correct Answer
B) Integrate SOLR Search Index with AEM

## Explanation
Create new Lucene Index definitions:

Built into Oak (AEM's repository)
Defines what content properties are indexed
Can include both OOTB (out-of-the-box) and custom properties
Local to AEM instance
Good for standard implementations
Lower maintenance overhead

Integrate SOLR Search Index:

External search platform
More powerful/flexible than Lucene
Better for large-scale implementations
Requires additional infrastructure
More complex to maintain
Better performance for large datasets

Modify search component to use Core Components:

Uses AEM's modern component framework
Leverages existing index definitions
Front-end focused solution
Doesn't change underlying search infrastructure
More about presentation than search performance

Use /allowedClients in dispatcher.any:

This is incorrect approach
/allowedClients is for client IP filtering
Not related to search functionality
Won't help with search performance
Caching search requests with parameters isn't recommended

Key differences:

Lucene: Built-in, simpler, good for standard use
SOLR: External, powerful, better for large scale
Core Components: Front-end improvement only
/allowedClients: Wrong tool entirely, not for search

## Related Concepts
- [Link to relevant concept in study-notes]
- [Additional resource links]

## Tags
#concept-tag1 #concept-tag2

## Difficulty
[Easy/Medium/Hard]

## Notes
SOLR would be the correct answer here because:

The log shows:
High response times (like 54224ms, 53663ms)
Multiple search requests with different query parameters
Global site searches across different terms

SOLR would help because:
It's optimized for large-scale search operations
Better handles concurrent search requests
Provides faster response times than Lucene
Better suited for global site search functionality
Can handle complex queries more efficiently

Other options wouldn't solve these performance issues:
Lucene indexes: Already showing poor performance
Core Components: Wouldn't address backend performance
Dispatcher caching: Not suitable for search queries with parameters

The response times in the logs (many over 30 seconds) indicate a need for a more robust search solution, which SOLR would provide.
