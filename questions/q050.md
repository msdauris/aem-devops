# Question ID: q001

## Category
[Platform Basics/Authoring/Development/Maintenance]

## Question
An end user reports performance issues on the site. The AEM environment uses a CDN and a dispatcher as caching layers. The number of requests on the publish instance has increased significantly.
Which metric can be monitored to see trends related to the problem early enough to be able to react?

## Options
A) "Current cache hit ratio" in the dispatcher.log  <br /> 
B) Offload metric in the CDN  <br /> 
C) "Recent requests" in AEM <br /> 
D) Output from the request.log in measuring response time  <br /> 

## Correct Answer
A) "Current cache hit ratio" in the dispatcher.log 

## Explanation
The correct answer is A) "Current cache hit ratio" in the dispatcher.log

Here's why:
1. Problem indicators:
   - Performance issues
   - Increased publish requests
   - Multiple caching layers

2. Why cache hit ratio is best early indicator:
   - Shows caching effectiveness
   - Decreasing ratio warns of problems
   - Indicates if cache is being bypassed
   - First sign of potential issues

3. Why other options aren't as good:
   - B) CDN offload: Too far from origin server
   - C) Recent requests: Only shows current state
   - D) Request.log: Shows problem after it occurs

If cache hit ratio decreases:
```
Good ratio: Most requests served from cache
↓
Poor ratio: More requests hitting publish
↓
Performance issues
```

This metric provides early warning before users experience significant performance problems.

## Related Concepts
- [Link to relevant concept in study-notes]
- [Additional resource links]

## Tags
#concept-tag1 #concept-tag2

## Difficulty
[Easy/Medium/Hard]

## Notes
Let's break down these different performance metrics and logs:

1. **Dispatcher Cache Hit Ratio (A)**
- Shows caching efficiency
- Percentage of cached responses
- Found in dispatcher.log
- Cache performance indicator

2. **CDN Offload Metric (B)**
- Measures CDN effectiveness
- Content served from edge
- Network performance
- Reduced origin load

3. **Recent Requests in AEM (C)**
- Shows current activity
- Real-time requests
- Limited historical data
- Basic monitoring

4. **Request.log Response Time (D)**
- Detailed timing data
- Per-request performance
- Actual response times
- Performance analysis

Comparison:
```
Cache Performance:        vs    Response Performance:
A) Cache hit ratio           D) Request.log timing
B) CDN offload              C) Recent requests

Long-term Analysis:      vs    Real-time Monitoring:
A) Cache trends             C) Current requests
B) CDN statistics          D) Response times
```

Each metric serves different monitoring purposes:
- Cache effectiveness (A,B)
- Request handling (C)
- Response performance (D)