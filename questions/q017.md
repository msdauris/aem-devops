# Question ID: q017

## Category
[Platform Basics/Authoring/Development/Maintenance]

## Question
How should a DevOps Engineer perform an AEM upgrade that preserves versions and workflows?

## Options
A) Perform an in-place upgrade of the AEM instance <br /> 
B) Install the updated version of AEM using the package manager  <br /> 
C) Set up a new AEM instance and copy the content with content packages  <br /> 
D) Put the updated AEM quickstart jar in the install folder and restart AEM in upgrade mode  <br /> 

## Correct Answer
A) Perform an in-place upgrade of the AEM instance

## Explanation
Let me break down each AEM upgrade approach:

1. **In-place upgrade (A)**
- Upgrades existing installation directly
- Maintains current installation path
- Riskier as no easy rollback
- Faster but less safe
- Could encounter compatibility issues

2. **Package Manager update (B)**
- This isn't actually a valid upgrade method
- Package manager is for content/code deployment
- Can't upgrade AEM core version this way
- Would be incorrect choice

3. **New instance with content packages (C)**
- Safest approach
- Creates clean installation
- Content migrated via packages
- Easy rollback option
- Takes longer but more reliable
- Industry best practice
- Allows testing before switchover

4. **Quickstart jar in install folder (D)**
- Similar to in-place upgrade
- Uses upgrade mode flag
- Can be risky
- No separate environment for testing
- Not recommended for production

Best Practice Comparison:
```
New Instance (C)      vs    In-place/Quickstart (A/D)
- Safer                     - Riskier
- Clean install            - Modified existing
- Easy rollback            - Hard to rollback
- More time needed         - Faster
- Industry standard        - Not recommended
```

Key difference is risk management:
- New instance method provides safety net
- Other methods save time but increase risk
- Package manager isn't valid for version upgrades

## Related Concepts
- https://experienceleague.adobe.com/en/docs/experience-manager-65/content/implementing/deploying/upgrading/post-upgrade-checks-and-troubleshooting 
- [Additional resource links]

## Tags
#concept-tag1 #concept-tag2

## Difficulty
[Easy/Medium/Hard]

## Notes
In-place upgrade:

Preserves all repository data
Keeps versions intact
Maintains workflow instances
Keeps repository structure

Therefore, an in-place upgrade would be the better choice when preserving versions and workflows is the priority because:

Maintains complete repository structure
Doesn't require additional migration steps
Preserves all historical data
Keeps workflow instances intact

Best practice in this specific case would be:

Use the in-place upgrade approach
Ensure full backup before proceeding
Follow Adobe's upgrade documentation carefully
Test the procedure in lower environments first