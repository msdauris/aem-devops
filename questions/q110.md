# Question ID: q110

## Category
[Platform Basics/Authoring/Development/Maintenance]

## Question
A DevOps engineer needs to install bundles via content packages for a continuous deployment setup. In which two ways should this be configured? (Choose two.)

## Options
A) Before the deployment of the new bundle, remove the old bundle from JCR as first deployment step to make sure the bundle is updated  <br /> 
B) To install bundles for a certain runmode only, the folder name can be used to limit environments where a bundle is installed  <br /> 
C) For an out-of-the-box installation, bundles can be installed from /apps./libs and /etc <br /> 
D) The JCR installer will only update the bundle if the filename changes; always use a unique bundle version in the filename  <br /> 
E) The JCR installer detects bundle changes at arbitrary depths in the JCR tree and automatically deploys those changes
bundles  <br /> 
F) Whenever the JCR installer detects a change of a bundle file, it will install it to the Felix runtime <br /> 

## Correct Answer
B) To install bundles for a certain runmode only, the folder name can be used to limit environments where a bundle is installed  <br /> 
F) Whenever the JCR installer detects a change of a bundle file, it will install it to the Felix runtime <br /> 

## Explanation
F) "Whenever the JCR installer detects a change of a bundle file, it will install it to the Felix runtime" is correct.

The code shows this through:
```java
/** 
 * Main class of jcrinstall, runs as a service, observes the
 * repository for changes in folders having names that match
 * configurable regular expressions, and registers resources
 * found in those folders with the OSGi installer for installation.
 */
```

And as you noted:
- Automatic deployment
- Monitors for changes
- Installs to Felix runtime

And B) Using folder name for runmode is also correct because of:
```java
@AttributeDefinition(name = "Installation folders name regexp", 
description = "JCRInstall looks in repository folders having a name that match this regular expression... 
Folders having names that match this expression, followed by dotted run mode selectors 
(like \"install.author.production\") are also included.")
```

So our final answers are:
- B) Using folder name for runmode-specific installation
- F) JCR installer detects and installs bundle changes

Much better than our earlier guesses about filenames (D) or arbitrary depths (E)!

## Related Concepts
- https://experienceleague.adobe.com/en/docs/experience-manager-cloud-service/content/migration-journey/getting-started
- https://github.com/apache/sling-org-apache-sling-installer-provider-jcr/blob/master/src/main/java/org/apache/sling/installer/provider/jcr/impl/JcrInstaller.java 
- https://experienceleague.adobe.com/en/docs/experience-manager-learn/cloud-service/underlying-technology/introduction-jcr 
- https://jcodereview.sourceforge.net/html/setup/install.html
- 

## Tags
#concept-tag1 #concept-tag2

## Difficulty
[Easy/Medium/Hard]

## Notes
[Personal notes or observations about this question]