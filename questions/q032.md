# Question ID: q032

## Category
[Platform Basics/Authoring/Development/Maintenance]

## Question
AEM author instance has been unstable and unresponsive.
Restarting the instance resolves the issue temporarily
Server disk space and CPU utilization seems fine Top and free command shows enough memory
The following error appears in the logs: "java.lang.OutOfMemoryError: gc overhead limit exceeded".
Which JVM parameter should the DevOps Engineer add to troubleshoot?

## Options
A) -XX: +HeapDumpOnOutOfMemoryError  <br /> 
B) -XX:-PrintConcurrentLocks <br /> 
C) -XX:OnOutOfMemoryError='kill -3 %p'  <br /> 
D) -XX: +PrintGCDetails  <br /> 

## Correct Answer
A) -XX: +HeapDumpOnOutOfMemoryError

## Explanation
-XX:+HeapDumpOnOutOfMemoryError (A) is the best choice for this error because:

Creates heap dump when OutOfMemoryError occurs
Provides memory state at time of failure
Can analyze dump to find memory leak source

Other options aren't as useful:

B: Lock info doesn't help with memory issues
C: Thread dump less useful than heap dump for GC issues
D: GC details might help but not as comprehensive as heap dump

The "gc overhead limit exceeded" specifically indicates garbage collection problems, which heap dump analysis can help diagnose.

## Related Concepts
- [Link to relevant concept in study-notes]
- [Additional resource links]

## Tags
#concept-tag1 #concept-tag2

## Difficulty
[Easy/Medium/Hard]

## Notes
These are JVM parameters for different diagnostic/debugging purposes:

1. `-XX:+HeapDumpOnOutOfMemoryError`
- Creates heap dump when OOM occurs
- Helpful for memory analysis
- Diagnostic information capture

2. `-XX:-PrintConcurrentLocks`
- Prints info about concurrent lock usage
- Debugging thread issues
- Minus (-) means disabled

3. `-XX:OnOutOfMemoryError='kill -3 %p'`
- Executes command on OOM
- Creates thread dump
- %p represents process ID

4. `-XX:+PrintGCDetails`
- Detailed garbage collection logging
- Performance monitoring
- Memory management analysis

Key differences:
```
Memory Issues:     Thread Issues:
A: Heap dump      B: Lock info
C: Thread dump    D: GC details
```

Most commonly used: A and D for memory troubleshooting.