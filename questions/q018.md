# Question ID: q018

## Category
[Platform Basics/Authoring/Development/Maintenance]

## Question
A DevOps Engineer notices that the disk usage for an AEM author instance is constantly going up.
Upon further investigation, it is revealed:
- Online Compaction is unable to complete revision cleanup task during the daily maintenance window
- Segment Store Size has gone up from 8 GB to 13 GB
- The following message is logged in the error.log file
"Canceling RevisionGC. The task was either stopped by the user or the Maintenance Window reached its end - Lucene Binaries Cleanup task completed successfully during the daily maintenance window."
What additional step can be performed during the weekly maintenance window to reduce the overall disk usage?

## Options
A) Set full compaction schedule property for com.adobe.granite.maintenance.crx.impl.RevisionCleanupTask to a preferred day  <br /> 
B) Set the job.topics property for com.adobe.granite.maintenance.crx.impl.DataStoreGarbageCollectionTask to com/adobe/granite/maintenance/job/DataStoreGarbageCollectionTask  <br /> 
C) Invoke startBlobGC(boolean markOnly, boolean forceBlobldRetrieve) for BlobGarbageCollection mbean in the JMX console  <br /> 
D) Invoke startRevisionGC() for SegmentRevisionGarbageCollection mbean in the JMX console  <br /> 

## Correct Answer
A) Set full compaction schedule property for com.adobe.granite.maintenance.crx.impl.RevisionCleanupTask to a preferred day 

## Explanation
Set full compaction schedule property for RevisionCleanupTask

Configures when Online Revision Cleanup runs
Done through OSGi configuration
Sets regular automated schedule
Automated approach
For routine maintenance


Set job.topics property for DataStoreGarbageCollectionTask

Configures datastore garbage collection task
Done through OSGi configuration
Sets up automated GC schedule
Also automated approach
For routine cleanup of datastore


Invoke startBlobGC through JMX console

Manual trigger of datastore garbage collection
Done through JMX console
One-time execution
Manual intervention required
For immediate/on-demand cleanup


Invoke startRevisionGC through JMX console

Manual trigger of revision garbage collection
Also through JMX console
One-time execution
Manual intervention required
For immediate cleanup needs

Key differences:
CopyOSGi Configuration (1,2)    vs    JMX Console (3,4)
- Automated                       - Manual
- Scheduled                      - On-demand
- Long-term                      - Immediate
- Set and forget                 - Requires intervention

## Related Concepts
- [Link to relevant concept in study-notes]
- [Additional resource links]

## Tags
#concept-tag1 #concept-tag2

## Difficulty
[Easy/Medium/Hard]

## Notes
In this case, "Set full compaction schedule property for com.adobe.granite.maintenance.crx.impl.RevisionCleanupTask to a preferred day" IS the correct answer because:

Problem isn't just lack of space, but lack of TIME:

Daily window isn't enough time
Task gets cancelled before completion
Weekly window provides more time


Why scheduling is better here:

Weekly maintenance window is longer
More time for task completion
Less likely to get cancelled
Can schedule during lowest usage time


Why JMX console isn't best here:

Doesn't solve the root problem (time window)
Manual intervention required
Not a sustainable long-term solution